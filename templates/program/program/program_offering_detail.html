{% extends "base.html" %}

{% block content %}

<section>
    <h1> Program Offering Deatil </h1>
  <p><strong>Title:</strong>{{ program_offering.temp_id }}:{{ program_offering.program.name }}</p>
  <p><strong>Description:</strong> {{ program_offering.program.description }}</p>
  <p><strong>Program Link:</strong> {{ program_offering.program.program_link }}</p>
  <p><strong>Total Credit:</strong> {{ program_offering.program.total_credit }}</p>
  <p><strong>Duration in week:</strong> {{ program_offering.program.duration_in_week }}</p>
<br>
  <p><strong>Start Date:</strong> {{ program_offering.start_date }}</p>
  <p><strong>End Date:</strong> {{ program_offering.end_date }}</p>
  <p><strong>Remark:</strong> {{ program_offering.remark }}</p>
<br>
<h1>Total Course Offering : {{total_course_offering_count}} </h1>
    {% comment %} {% for data in poor_performance_data %}
          
          <p>Course Offering: {{ data.course_offering }}</p>
          <p>Week Number: {{ data.week_number }}</p>
          <p>Total Students: {{ data.total_students }}</p>
          <p>Poor Performance Count: {{ data.poor_performance_count }}</p>
          <hr>
        
          
    {% endfor %} {% endcomment %}

  {% comment %} {{program_offering.program.course.all}} {% endcomment %}
  {% for course in program_offering.program.course.all %}
  
  <br>   
  <p>Course Name  :{{course.temp_id}}-{{course.name}}</p>

      Check Total Course Offring has to be  : {{course.course_offering.count}}
     <div class='flex flex-col gap-5'>
      {% for course_offering  in course.course_offering.all  %}
      <a href="{% url 'course_offering_detail' course_offering.pk %}">
         <div class='bg-gray-400 ml-5 p-5  rounded-xl'>
        {% comment %} <p >course offering object :{{course_offering.student.all}}</p> {% endcomment %}
        <p>course offering  name :{{course_offering.temp_id}}-{{course_offering.course.name}}</p>
        <p> Start from {{course_offering.start_date}} to  {{course_offering.end_date}}</p>
        <p>course offering  remark :{{course_offering.remark}}</p>
        <p>course offering  Result Status code :{{course_offering.result_status_code}}</p>
        <p>course offering  Result Status :{{course_offering.result_status}}</p>
        
        <br>
        <p>Total Enrolled  Student :{{course_offering.student.count}}</p>
        <br>
       
        {% for data in poor_performance_data %}
          {% comment %} {% if data.course_offering in course_offering %} {% endcomment %}
          {% comment %} <p>Course Offering: {{ data.course_offering.temp_id }} compare {{course_offering.temp_id}}</p> {% endcomment %}
          
          {% if data.course_offering.temp_id|stringformat:"s" == course_offering.temp_id|stringformat:"s" %}
            <p>Week Number: {{ data.week_number }}</p>
            <p>Total Students: {{ data.total_students }}</p>
            <p>Poor Performance Count: {{ data.poor_performance_count }}</p>
            <hr>
          {% else %}
              Not Matched
          {% endif %}
          
          {% comment %} {% endif %} {% endcomment %}
          
        {% endfor %}
       

        <div class='ml-5 p-5  rounded-xl flex flex-col flex-wrap gap-1'>
          {% for student in course_offering.student.all %}
            <div class='bg-blue-200 m-4 p-4 rounded-lg flex flex-row gap-3'>
              <p>ID :{{student.student.temp_id}}</p>
              <p>Name :{{student.student.first_name}} {{student.student.last_name}} </p>
              {% comment %} <p>Weekly Report :{{student.weekly_reports.all}}  </p> {% endcomment %}
              <div class='flex flex-col gap-3'>
              {% for weekly_report in student.weekly_reports.all %}
              <div class='flex flex-row gap-3'>
                <p>Week Number {{weekly_report.week_number}} </p>
                <p>Status : {{weekly_report.performance}}   </p>
              </div>
              
                  
                             
              {% endfor %}
              </div>

              
              {% comment %} <p>Student email ID:{{student.student.email}} </p>
              <p>Student personal Email :{{student.email_id}} </p>
              <p>Student date of brth :{{student.student.dob}} </p>
              <p>Student gender :{{student.student.gender}} </p>
              <p>Student campus :{{student.student.campus.name}} </p>
              <p>Student Joining date  :{{student.joining_date}} </p>
              <p>International Studnet Status  :{{student.international_student}} </p>
              <p>Student passport Number  :{{student.passport_number}} </p>
              <p>Student Visa Number :{{student.visa_number}} </p>
              <p>Student Visa Expirty date :{{student.visa_expiry_date}} </p> {% endcomment %}
              <br>
            </div>
          {% endfor %}
        </div>
        </div>
      </a>
      {% endfor %}
    </div>
      
  {% endfor %}

</section>
   

{% endblock content %}