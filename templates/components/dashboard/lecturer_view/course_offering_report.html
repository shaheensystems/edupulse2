<div class="course-offering-report w-full flex flex-row  border-b-2 border-b-gray-400" id='filteredData_{{ co.id }}'>

  <!-- Attendance chart -->
  <div class="flex flex-col w-1/3 p-4 border-r-2 border-gray-200 justify-between">
    <div class="flex flex-col justify-center  ">
      <a href="{% url 'course_offering_detail' co.pk %}" class='flex text-left underline underline-offset-4 text-blue-500 mb-3'>{{ co.temp_id|upper }}</a>
   
      <div class="flex flex-row justify-between items-center">
        <!-- AJAX form for filtering -->
        
          <form id="filterForm_{{ co.id }}" class="filterForm" method="post" data-url="{% url 'load_course_offering_data' co.pk %}">
            {% csrf_token %}
            <label for="session_no_{{ co.id }}" class='hidden' > Select Session: </label>
            
            <select id="session_no_{{ co.id }}" class='selected_session_value pr-8 pl-2 py-1 text-gray-700 border-2 border-gray-400' name ="session_no">
              
              {% if week_and_session_no_choices %}
                {% for choice in week_and_session_no_choices %}
                      <option value='{"week":{{ choice.value.week }},"session":{{ choice.value.session }}}'>
                          {{ choice.text }}
                      </option>
                {% endfor %}
              {% else %}
                  
                  <option value='{"week":{{ choice.value.week }},"session":{{ choice.value.session }}}'>
                    No Attendance
                </option>
              {% endif %}
              
              
            </select>
          
          </form>
       
       
       
        <div class="flex bg-gray-100 shadow-md px-4 py-1 items-center text-sm text-blue-400">Edit</div>
      </div>
     
      {% comment %} <div class="mb-4 w-2/3 flex items-center content-center self-center justify-center"> {% endcomment %}
      <div class="mb-4 w-2/3 items-center justify-center flex content-center ">
        {% if week_and_session_no_choices %}
          {% with data=calculate_student_attendance_chart_data title='' id=co.id chartType='doughnut' lengendDisplay='false' limitData=10 %}
              {% include 'charts/chart.html' %}
          {% endwith %}
        {% else %}
        <div class='justify-center items-center text-center content-center self-center min-h-[300px]'>
          No Attendance records
        </div>
          
        {% endif %}
        
      </div>
    </div>
    <div class="flex flex-row justify-between">
      <div>
        <div class="flex items-center">
          <div class="h-2 w-2 rounded-full bg-blue-500 mr-2"></div>
          <p>Present</p>
        </div>
        <p>{{ calculate_student_attendance_percentage.present_percentage }}</p>
      </div>
      <div>
        <div class="flex items-center">
          <div class="h-2 w-2 rounded-full bg-green-500 mr-2"></div>
          <p>Informed Absent</p>
        </div>
        <p>{{ calculate_student_attendance_percentage.informed_absent_percentage }}</p>
      </div>
      <div>
        <div class="flex items-center">
          <div class="h-2 w-2 rounded-full bg-red-500 mr-2"></div>
          <p>Absent</p>
        </div>
        <p>{{ calculate_student_attendance_percentage.absent_percentage }}</p>
      </div>
    </div>
  </div>

      <!-- Action Point -->
      <div class="flex flex-col w-1/3 border-r-2 border-gray-200 h-full px-5">
          
        <p class='flex justify-start items-center px-5 text-center '> Action Point </P>
          <div class='flex justify-start  mt-4 flex-col gap-4 max-h-[400px] overflow-y-auto'>
            <div class='flex bg-red-200 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class='underline underline-offset-4 text-red-400 pr-8 text-sm'>Mark Week 2 Session 1 Attendnace </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            <div class='flex bg-red-200 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class='underline underline-offset-4 text-red-400 pr-8 text-sm'>Mark Week 1 Session 1 Attendnace </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            <div class='flex bg-yellow-100 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class=' text-gray-800 text-justify pr-8 text-sm'>Warning email ,Absent student: <br>Anika Rahhel Madsen  </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            <div class='flex bg-yellow-100 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class=' text-gray-800 text-justify pr-8 text-sm'>Warning email ,Absent student: <br>Anika Rahhel Madsen  </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            <div class='flex bg-yellow-100 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class=' text-gray-800 text-justify pr-8 text-sm'>Warning email ,Absent student: <br>Anika Rahhel Madsen  </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            <div class='flex bg-yellow-100 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class=' text-gray-800 text-justify pr-8 text-sm'>Warning email ,Absent student: <br>Anika Rahhel Madsen  </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            <div class='flex bg-yellow-100 px-4 py-3 rounded-xl items-center justify-between '> 
              <p class=' text-gray-800 text-justify pr-8 text-sm'>Warning email ,Absent student: <br>Anika Rahhel Madsen  </p>
              <i class="fas fa-chevron-right ml-3 text-blue-700"></i>
            </div>
            


           </div>

      </div>
      <!-- At Risk Student -->
      <div class="flex flex-col w-1/3 border-r-2 border-gray-200 h-full px-5">
        
        <p class='flex justify-start items-center px-5 text-center '> At Risk Students </P>
          <div class='flex justify-start  mt-4 flex-col gap-4 max-h-[400px] overflow-y-auto'>
            <div class='flex bg-slate-100 px-4 py-3 rounded-xl items-center justify-between border border-x-2 border-slate-50 '> 
              <i class=" text-gray-700 bg-gray-300 rounded-full p-4 shadow-lg" ></i>

              <div class='text-left pr-8 text-sm flex flex-col'>
                <p class='text-left text-gray-500 text-sm '> Student 1</p>  
                <p class='text-left text-gray-400 text-sm '>Weelington , International</p> 
              </div>
              <p class='text-left text-gray-400 text-sm'>2 weeks </p>
            
            </div>
          
            </div>

      </div>
      
  
</div>
